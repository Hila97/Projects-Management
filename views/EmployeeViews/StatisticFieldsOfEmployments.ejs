<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
</head>
<body>
<div>
    <%- include ('../partials/CompanyEmployeeNav')%>
</div>
<div>
<% fields.forEach((item)=>{ %>
<input type="hidden" name="fields[]" value="<%=item%>"  >
<%});%>
<% amount.forEach((item)=>{ %>
<input type="hidden" name="amount[]" value=<%=item%> >
<%});%>
</div>
<div>
<p>graph:</p>
<div id="chart1"></div>
</div>
<script>
    var a=[];
    var b=[];
    var inputFields=document.getElementsByName("fields[]");
    var inputFields2=document.getElementsByName("amount[]");
    let i;
    for (i = 0; i < inputFields.length; i++) {
        a[i]=inputFields[i].value;
    }
    let j;
    for (j = 0; j < inputFields2.length; j++) {
        b[j]=inputFields2[j].value;
    }

    var options = {
        series: [{
            data: b
        }],
        chart: {
            type: 'bar',
            height: 350
        },
        plotOptions: {
            bar: {
                borderRadius: 4,
                horizontal: true,
            }
        },
        dataLabels: {
            enabled: false
        },
        xaxis: {
            categories: a,
        }
    };

    // var options = {
    //     series: b,
    //     chart: {
    //         width: 380,
    //         type: 'pie',
    //     },
    //     labels: a,
    //     responsive: [{
    //         breakpoint: 480,
    //         options: {
    //             chart: {
    //                 width: 200
    //             },
    //             legend: {
    //                 position: 'bottom'
    //             }
    //         }
    //     }]
    // };

    var chart = new ApexCharts(document.querySelector("#chart1"), options);
    chart.render();
</script>
</body>
</html>
